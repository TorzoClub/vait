{"version":3,"file":"vait.esm.js","sources":["../src/index.js"],"sourcesContent":["function Vait(input) {\n  let pass, fail\n\n  const promise = new Promise((resolve, reject) => {\n    pass = value => {\n      promise.__finally__ = true\n      promise.__value__ = value\n      resolve(value)\n    }\n\n    fail = error => {\n      promise.__finally__ = true\n      promise.__error__ = error\n      reject(error)\n    }\n  })\n\n  Object.assign(promise, {\n    __isVait__: true,\n    __finally__: false,\n    pass,\n    fail\n  })\n\n  return promise\n}\n\nObject.assign(Vait, {\n  timeout(timing, value) {\n    const v = Vait()\n\n    const timeout_handle = setTimeout(v.pass, timing, value)\n\n    v.clear = () => clearTimeout(timeout_handle)\n\n    return v\n  },\n\n  nextTick() {\n    return this.timeout(0)\n  },\n\n  wait(promise) {\n    const v = Vait()\n    promise.then(v.pass).catch(v.fail)\n    return v\n  }\n})\n\nmodule.exports = Vait\n"],"names":["Vait","input","pass","fail","promise","Promise","resolve","reject","value","__finally__","__value__","error","__error__","Object","assign","__isVait__","timeout","timing","v","timeout_handle","setTimeout","clear","clearTimeout","nextTick","wait","then","catch"],"mappings":"AAAA,SAASA,IAAT,CAAcC,KAAd,EAAqB;MACfC,IAAJ,EAAUC,IAAV;MAEMC,OAAO,GAAG,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;IAC/CL,IAAI,GAAG,cAAAM,KAAK,EAAI;MACdJ,OAAO,CAACK,WAAR,GAAsB,IAAtB;MACAL,OAAO,CAACM,SAAR,GAAoBF,KAApB;MACAF,OAAO,CAACE,KAAD,CAAP;KAHF;;IAMAL,IAAI,GAAG,cAAAQ,KAAK,EAAI;MACdP,OAAO,CAACK,WAAR,GAAsB,IAAtB;MACAL,OAAO,CAACQ,SAAR,GAAoBD,KAApB;MACAJ,MAAM,CAACI,KAAD,CAAN;KAHF;GAPc,CAAhB;EAcAE,MAAM,CAACC,MAAP,CAAcV,OAAd,EAAuB;IACrBW,UAAU,EAAE,IADS;IAErBN,WAAW,EAAE,KAFQ;IAGrBP,IAAI,EAAJA,IAHqB;IAIrBC,IAAI,EAAJA;GAJF;SAOOC,OAAP;;;AAGFS,MAAM,CAACC,MAAP,CAAcd,IAAd,EAAoB;EAClBgB,OADkB,mBACVC,MADU,EACFT,KADE,EACK;QACfU,CAAC,GAAGlB,IAAI,EAAd;QAEMmB,cAAc,GAAGC,UAAU,CAACF,CAAC,CAAChB,IAAH,EAASe,MAAT,EAAiBT,KAAjB,CAAjC;;IAEAU,CAAC,CAACG,KAAF,GAAU;aAAMC,YAAY,CAACH,cAAD,CAAlB;KAAV;;WAEOD,CAAP;GARgB;EAWlBK,QAXkB,sBAWP;WACF,KAAKP,OAAL,CAAa,CAAb,CAAP;GAZgB;EAelBQ,IAfkB,gBAebpB,OAfa,EAeJ;QACNc,CAAC,GAAGlB,IAAI,EAAd;IACAI,OAAO,CAACqB,IAAR,CAAaP,CAAC,CAAChB,IAAf,EAAqBwB,KAArB,CAA2BR,CAAC,CAACf,IAA7B;WACOe,CAAP;;CAlBJ;AAsBA,OAAc,GAAGlB,IAAjB;;;;"}